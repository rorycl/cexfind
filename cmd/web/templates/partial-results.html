<div id="results">
<h3>Results</h3>

{{ if .Err }}
<p>An error occurred:<br />{{ .Err }}</p>
{{ else }}

<div id="result-listing">
{{ $currentModel := "" }}
{{ range $box := .Results }}
{{ if ne $currentModel $box.Model }}
{{ if eq $currentModel "" }}</ul>{{ end }}
<p class="model">{{- $box.Model }}</p>
<ul>
{{ $currentModel = $box.Model }}
{{ end }} {{/* end of Model check */}}
<li>
    <span class="price">&pound;{{ $box.Price }}</span>
    <span class="name">{{ $box.Name }}</span>
    <span class="boxid"><a href="{{ $box.IDUrl }}">{{ $box.ID }}</a></span>
</li>
{{ end }}
</ul>
</div>

{{- end }} {{/* end not error */}}
</p>
</div>
